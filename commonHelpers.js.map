{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict'\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = \"https://pixabay.com/api/?\";\nconst API_KEY = \"41837495-d070c30be5c0243a4bb3b397a\";\nconst form = document.querySelector('.search-form');\nconst galleryBox = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader-container');\n\n\nlet gallery = new SimpleLightbox('.gallery a', { \n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nform.addEventListener(\"submit\", event => {\n    event.preventDefault();\n\n    loaderToShow();\n\n    galleryBox.innerHTML = '';\n    gallery.refresh();\n\n    // const value = event.target.elements.keywords.value;\n    const value = form.elements['keywords'].value;\n\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n\n    fetch(`${BASE_URL}${searchParams}`)\n        .then(response => {\n\n            if (!response.ok)\n                throw new Error(response.status);\n            return response.json();\n        })\n        .then(addImages)\n        .catch(showError)\n        .finally(loaderToHide())\n});\n\nconst addImages = images => {\n    if (images.hits.length === 0) {\n        showError(\"No images found for the given search query.\");\n        return;\n    };\n    galleryBox.innerHTML = images.hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => html + `\n    <li class=\"img\">\n       <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul class=\"img-info\">\n        <li class=\"img-info-item\"><span>Likes</span> ${likes}</li>\n        <li class=\"img-info-item\"><span>Views</span> ${views}</li>\n        <li class=\"img-info-item\"><span>Comments</span> ${comments}</li>\n        <li class=\"img-info-item\"><span>Downloads</span> ${downloads}</li>\n      </ul>\n    </li>`, '');\n\n    gallery.refresh();\n}\n\nconst showError = (message = \"An error occurred.\") => {\n    iziToast.show({\n        message: message,\n        maxWidth: 432,\n        iconUrl: './img/error-icon.svg',\n        iconColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n        position: 'topRight'\n    });\n    galleryBox.innerHTML = '';\n}\n\nconst loaderToShow = () => {\n  loader.style.display = 'block';\n}\nconst loaderToHide = () => {\n  loader.style.display = 'none';\n}"],"names":["BASE_URL","API_KEY","form","galleryBox","loader","gallery","SimpleLightbox","event","loaderToShow","value","searchParams","response","addImages","showError","loaderToHide","images","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads","message","iziToast"],"mappings":"6vBAOA,MAAMA,EAAW,4BACXC,EAAU,qCACVC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAa,SAAS,cAAc,UAAU,EAC9CC,EAAS,SAAS,cAAc,mBAAmB,EAGzD,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,GAAS,CACrCA,EAAM,eAAc,EAEpBC,IAEAL,EAAW,UAAY,GACvBE,EAAQ,QAAO,EAGf,MAAMI,EAAQP,EAAK,SAAS,SAAY,MAElCQ,EAAe,IAAI,gBAAgB,CACrC,IAAKT,EACL,EAAGQ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGD,MAAM,GAAGT,CAAQ,GAAGU,CAAY,EAAE,EAC7B,KAAKC,GAAY,CAEd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EACnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,CAAS,EACd,MAAMC,CAAS,EACf,QAAQC,EAAY,CAAE,CAC/B,CAAC,EAED,MAAMF,EAAYG,GAAU,CACxB,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1BF,EAAU,6CAA6C,EACvD,MACR,CACIV,EAAW,UAAYY,EAAO,KAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAOP,EAAO;AAAA;AAAA,kBAEvHC,CAAa,eAAeC,CAAY,UAAUC,CAAI;AAAA;AAAA,uDAEjBC,CAAK;AAAA,uDACLC,CAAK;AAAA,0DACFC,CAAQ;AAAA,2DACPC,CAAS;AAAA;AAAA,WAExD,EAAE,EAEVlB,EAAQ,QAAO,CACnB,EAEMQ,EAAY,CAACW,EAAU,uBAAyB,CAClDC,EAAS,KAAK,CACV,QAASD,EACT,SAAU,IACV,QAAS,uBACT,UAAW,UACX,gBAAiB,UACjB,aAAc,UACd,SAAU,UAClB,CAAK,EACDrB,EAAW,UAAY,EAC3B,EAEMK,EAAe,IAAM,CACzBJ,EAAO,MAAM,QAAU,OACzB,EACMU,EAAe,IAAM,CACzBV,EAAO,MAAM,QAAU,MACzB"}